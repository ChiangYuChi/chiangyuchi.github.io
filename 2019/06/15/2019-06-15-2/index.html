<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>克服 JavaScript 的奇怪部份 [Day23] - 物件與實體 | CYC'S BLOG</title><meta name="description"><meta name="generator" content="CYC'S BLOG"><meta name="author" content="John Doe"><meta name="keywords"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><div class="logo"></div><h1><a href="/" alt="CYC'S BLOG" title="CYC'S BLOG" itemprop="headline">CYC'S BLOG</a></h1><p itemprop="description"></p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/ " alt="home" title="home" itemprop="url">home</a></li><li itemprop="name"><a href="/articles" alt="articles" title="articles" itemprop="url">articles</a></li><li itemprop="name"><a href="/author" alt="author" title="author" itemprop="url">author</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline" class="post-heading">克服 JavaScript 的奇怪部份 [Day23] - 物件與實體</h1><span class="page-tag-anchor"><a href="/tags/JavaScript" itemprop="url">#JavaScript
&nbsp;&nbsp;</a></span><span class="page-tag-anchor"><a href="/tags/前端學習" itemprop="url">#前端學習
&nbsp;&nbsp;</a></span><span class="post-meta"></span><br><br><h3 id="建立物件的捷徑"><a href="#建立物件的捷徑" class="headerlink" title="建立物件的捷徑"></a>建立物件的捷徑</h3><p>在 JavaScript 裡面，完成一件事情還有許多方式，還記得宣告 new object 並非建立物件的最好方式，有一種建立物件的捷徑是利用大括號 <code>{}</code> 的物件實體語法（object literal syntax)，得到的結果會和 new object 一樣。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;&#125;;</span><br><span class="line">console.log(person);</span><br></pre></td></tr></table></figure>

<p>如果我列印出 person，會看到一個空物件，就像 new object 一樣，這是比較快的作法。但注意這不是運算子，這是當 JavaScript 在解析語法時，看到大括號，但這個大括號不是用在 if 條件式或者迴圈時，它就會假設你在創造一個物件。</p>
<p><img src="https://i.imgur.com/RL1V3u9.png" alt></p>
<p>我們還可以初始化物件，可以同時在這個大括號裡面建立屬性和方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//命名屬性與方法，並賦值。以逗號增加另一個名稱/值的配對</span><br><span class="line">var person=&#123;</span><br><span class="line">firstname:&apos;Tony&apos;,</span><br><span class="line">lastname:&apos;Alicea&apos;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(person);</span><br></pre></td></tr></table></figure>

<p>物件有 2 個屬性<br><img src="https://i.imgur.com/fJpq5ku.png" alt></p>
<p>這跟建立 <code>var person = new Object()</code> 再依序一個一個增加屬性 <code>person.firstname = &#39;Tony&#39;;</code> 、<code>person.lastname=&#39;Alicea&#39;;</code> 一樣</p>
<p>物件裡還可以包含另一個物件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//命名屬性與方法，並賦值。以逗號增加另一個名稱/值的配對</span><br><span class="line">var person=&#123;</span><br><span class="line">firstname:&apos;Tony&apos;,</span><br><span class="line">lastname:&apos;Alicea&apos;,</span><br><span class="line">address:&#123;</span><br><span class="line">street:&apos;123 Main St.&apos;,</span><br><span class="line">City:&apos;NY&apos;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所以當 JavaScript 的語法解析器，執行程式碼的時候，遇到大括號的區塊，它會當成同一行程式碼，並且知道你要建立物件。所以我可以在任何地方新增物件、定義屬性和方法。這比一次定義一個屬性還分成很多行，要快上許多。</p>
<h3 id="建立函數的捷徑"><a href="#建立函數的捷徑" class="headerlink" title="建立函數的捷徑"></a>建立函數的捷徑</h3><p>當我們了解這個捷徑的處理方式後，就可以快速的建立物件和變數。因此我們也可以快速建立函數。</p>
<p>有一個打招呼的函數，包含物件，函數需要知道 firstname 屬性，才能打招呼。呼叫 <code>greet</code>  並傳入 <code>Tony</code>。 物件再記憶體裡，被傳入函數中，而且可以使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function greet(person)&#123;</span><br><span class="line">console.log(&apos;Hi&apos;+person.firstname);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">greet(person);</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/SHxajWR.png" alt></p>
<h3 id="同時建立函數與物件"><a href="#同時建立函數與物件" class="headerlink" title="同時建立函數與物件"></a>同時建立函數與物件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var person=&#123;</span><br><span class="line">firstname:&apos;Tony&apos;,</span><br><span class="line">lastname:&apos;Alicea&apos;,</span><br><span class="line">address:&#123;</span><br><span class="line">street:&apos;123 Main St.&apos;,</span><br><span class="line">City:&apos;NY&apos;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function greet(person)&#123;</span><br><span class="line">console.log(&apos;Hi&apos;+person.firstname);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">greet(person);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">greet(&#123;</span><br><span class="line">firstname:&apos;Mary&apos;,</span><br><span class="line">lastname:&apos;Doll&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>用逗號區隔名稱/值配對，然後名稱和值用冒號區隔，再用大括號包起來。JavaScript 可以用物件實體語法，在看到函數的時候，檢查你需要傳入什麼，當它看到大括號的時候，知道你在建立物件，所以建立完就傳入這個物件。這和傳入數值和字串沒有差別。在這個情況下，我同時建立物件，我也可以把它當作一般變數使用。</p>
<p>在這個情況下，我傳入 <code>person</code> 這個變數，並包含 firstname 屬性，然後再次呼叫函數，裡面包含另一個物件。這個物件在呼叫時同時被建立，然後 firstname 是 Mary。</p>
<p><img src="https://i.imgur.com/cZgGlwg.png" alt></p>
<h3 id="混合語法"><a href="#混合語法" class="headerlink" title="混合語法"></a>混合語法</h3><p>用<code>person</code> 這個變數，然後新增一個屬性。用 <code>.</code> 點運算子，而不是物件實體語法，然後再用物件實體語法定義物件。這樣就能結合 2 種語法了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">person.address=&#123;</span><br><span class="line">street:&apos;123 Second St.&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>為什麼可以這樣做？因為程式碼並不是真的直接被處理，它會先被 JavaScript 轉化成電腦能懂的東西。所以不論物件實體語法或用點運算子建立物件，都是一樣的，對 JavaScript 底層來說，它就是在建立物件、屬性和方法到記憶體裡面。</p>
</article><br><br><span class="next-post"><a href="/2019/06/15/2019-06-15-1/" itemprop="url">Older Post ⇒</a></span><span class="prev-post"><a href="/2019/06/16/2019-06-16/" itemprop="url">⇐ Next Post </a></span><br><br><br></main></body></html>